---
layout: default
---

<div class="book-reader">
	
	<!-- Header with back link -->
	<div class="book-header">
		<a href="{{ page.parent_article }}" class="book-back-link">&larr; Back to article</a>
		<h1 class="book-title">{{ page.title }}</h1>
	</div>
	
	<!-- Table of Contents (sticky on desktop, top on mobile) -->
	<nav class="book-toc" aria-label="Table of contents">
		<div class="book-toc-inner">
			
			<!-- Language Switcher -->
			<div class="book-language-switch">
				{% for lang in page.languages %}
				<button class="book-lang-btn{% if lang.code == page.default_language %} active{% endif %}" 
						data-lang="{{ lang.code }}">
					{{ lang.label }}
				</button>
				{% endfor %}
			</div>
			
			<h3 class="book-toc-title">Contents</h3>
			
			<!-- TOC will be generated by JavaScript -->
			<ul class="book-toc-list" id="book-toc-list">
				<li class="book-toc-loading">Loading...</li>
			</ul>
			
		</div>
	</nav>
	
	<!-- Main content area -->
	<div class="book-content">
		{% for lang in page.languages %}
		<div class="book-text" data-lang="{{ lang.code }}"{% unless lang.code == page.default_language %} hidden{% endunless %}>
			{% capture content_path %}book-content/{{ page.book_id }}/{{ lang.code }}.md{% endcapture %}
			{% capture book_content %}{% include {{ content_path }} %}{% endcapture %}
			{{ book_content | markdownify }}
		</div>
		{% endfor %}
	</div>
	
</div>

<script src="{{ '/js/book-reader.js' | relative_url }}"></script>
